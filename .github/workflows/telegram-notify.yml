name: GitHubé¡¹ç›®æ´»åŠ¨é€šçŸ¥
on:
  issues:
    types: [opened, closed, reopened]
  watch:
    types: [started]
  
jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: å‘é€Telegramé€šçŸ¥
        uses: appleboy/telegram-action@v0.1.1
        with:
          to: ${{ secrets.MY_OCI_START_GROUP_ID }}
          token: ${{ secrets.MY_OCI_START_GROUP_MANAGER_BOT_TOKEN }}
          format: markdown
          disable_web_page_preview: false
          message: |
            ${{ github.event_name == 'watch' && 'ğŸŒŸ *æ­å–œï¼è·å¾—æ–°çš„Star*' || 
                github.event_name == 'issues' && github.event.action == 'opened' && 'ğŸ› *æ”¶åˆ°æ–°Issue*' ||
                github.event_name == 'issues' && github.event.action == 'closed' && 'âœ… *Issueå·²è§£å†³*' ||
                github.event_name == 'issues' && github.event.action == 'reopened' && 'ğŸ”„ *Issueè¢«é‡æ–°æ‰“å¼€*' }}
            
            ğŸ“‚ *é¡¹ç›®ï¼š* [`${{ github.repository }}`](${{ github.server_url }}/${{ github.repository }})
            
            ğŸ‘¤ *æ“ä½œè€…ï¼š* [${{ github.actor }}](https://github.com/${{ github.actor }})
            
            ${{ github.event.issue.title && format('ğŸ“‹ *æ ‡é¢˜ï¼š* {0}', github.event.issue.title) || '' }}
            
            ${{ github.event.issue.body && github.event.action == 'opened' && format('ğŸ’¬ *æè¿°ï¼š* {0}', github.event.issue.body) || '' }}
            
            ${{ github.event_name == 'watch' && format('â­ é¡¹ç›®ç°åœ¨æœ‰ *{0}* ä¸ªStaräº†ï¼', github.event.repository.stargazers_count) || '' }}
            
            ğŸ”— [${{ github.event_name == 'watch' && 'æŸ¥çœ‹é¡¹ç›®' || 
                   github.event_name == 'issues' && 'æŸ¥çœ‹Issue' }}](${{ github.event.issue.html_url || format('{0}/{1}', github.server_url, github.repository) }})
            
            â° *æ—¶é—´ï¼š* `${{ github.event.repository.updated_at }}`
